<!doctype html>
<html lang="id" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Generator Bukti Pembelian</title>

  <!-- Fonts & Icons (sama seperti referensi) -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">

  <style>
    /* ===== Theme variables (light = default, dark overrides) ===== */
    :root{
      --bg: #f7f8fb;
      --card: #ffffff;
      --muted: #6b7280;
      --text: #0b1220;
      --accent: #f97316;
      --glass-bg: rgba(255,255,255,0.6);
      --glass-border: rgba(255,255,255,0.12);
      --output-bg: #f1f5f9;
      --code-bg: #eef2ff;
      --shadow: 0 6px 22px rgba(2,6,23,0.06);
    }

    html[data-theme="dark"]{
      --bg: linear-gradient(180deg,#071020 0%, #081223 100%);
      --card: rgba(11,18,32,0.95);
      --muted: #94a3b8;
      --text: #e6eef8;
      --accent: #f97316;
      --glass-bg: rgba(255,255,255,0.03);
      --glass-border: rgba(255,255,255,0.06);
      --output-bg: #041022;
      --code-bg: #021125;
      --shadow: 0 8px 30px rgba(2,6,23,0.6);
    }

    /* ===== Base layout ===== */
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased;}
    .wrap{max-width:1100px;margin:28px auto;padding:18px}
    .card{background:var(--card);padding:14px;border-radius:10px;box-shadow:var(--shadow);border:1px solid transparent}
    h1{margin:0 0 6px;font-size:20px}
    .grid{display:grid;grid-template-columns:1fr 420px;gap:16px}
    label{display:block;font-size:13px;color:var(--muted);margin-bottom:6px}
    select,input,textarea{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);background:transparent;color:inherit;outline:none}
    select{appearance:none;background-image:linear-gradient(45deg, transparent 50%, var(--muted) 50%), linear-gradient(135deg,var(--muted) 50%, transparent 50%); background-position:calc(100% - 18px) calc(1em + 2px), calc(100% - 13px) calc(1em + 2px); background-size:6px 6px,6px 6px; background-repeat:no-repeat}
    input[type="date"], input[type="number"] { -moz-appearance: textfield; }
    .btn{padding:10px 12px;border-radius:8px;border:none;background:var(--accent);color:#071022;cursor:pointer;font-weight:600}
    .btn.ghost{background:transparent;border:1px solid rgba(0,0,0,0.06);color:var(--text)}
    pre.output{white-space:pre-wrap;background:var(--output-bg);padding:14px;border-radius:8px;color:var(--text);overflow:auto;min-height:160px;border:1px solid rgba(0,0,0,0.04)}
    .small{font-size:13px;color:var(--muted)}
    .terms{background:transparent;padding:10px;border-radius:8px;color:var(--muted);max-height:220px;overflow:auto}
    .theme-toggle{display:inline-flex;gap:8px;align-items:center;cursor:pointer;border-radius:999px;padding:6px 8px;border:1px solid var(--glass-border);background:var(--glass-bg);color:var(--text)}
    .header-row{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:12px}
    .desk{font-size:13px;color:var(--muted);margin-top:8px}
    .topbar{display:flex;gap:8px;align-items:center}
    .logo-text{font-weight:700}
    @media(max-width:940px){.grid{grid-template-columns:1fr}.wrap{padding:12px}}
    /* small niceties */
    .note-list{margin:0;padding-left:16px;color:var(--muted)}
    .kbd{background:var(--code-bg);padding:6px 8px;border-radius:6px;font-family:monospace;font-size:12px}
    /* transition */
    html{transition:background .25s ease,color .25s ease}
    .card, pre.output, .terms { transition: background .2s ease, color .2s ease, box-shadow .2s ease; }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="header-row">
      <div style="display:flex;gap:12px;align-items:center">
        <div class="card" style="padding:8px 12px;display:flex;align-items:center;gap:10px">
          <img src="" alt="" style="width:34px;height:34px;border-radius:6px;display:none">
          <div class="logo-text">Generator Bukti Pembelian</div>
        </div>
        <div class="small" style="align-self:center">Pilih aplikasi → pilih durasi/plan → isi data akun → Generate.</div>
      </div>

      <div class="topbar">
        <div class="small" style="margin-right:8px">Tema</div>
        <button id="themeToggle" class="theme-toggle" aria-label="Toggle theme">
          <i id="themeIcon" class="fa-regular fa-moon"></i>
          <span id="themeLabel" style="font-size:13px">Gelap</span>
        </button>
      </div>
    </div>

    <div class="grid">
      <div>
        <div class="card">
          <label for="product">Pilih Aplikasi</label>
          <select id="product"></select>

          <div style="margin-top:12px">
            <label for="plan">Pilih Durasi / Plan</label>
            <select id="plan"></select>
            <div id="deskInfo" class="desk"></div>
          </div>

          <div id="dynamicFields" style="margin-top:12px"></div>

          <div style="margin-top:10px">
            <label class="small">Harga (bisa ubah manual)</label>
            <input id="price" placeholder="Rp. 0" />
          </div>

          <div style="margin-top:12px;display:flex;gap:8px">
            <button class="btn" id="generate">Generate Bukti</button>
            <button class="btn ghost" id="previewPDF">Cetak / Print</button>
            <button class="btn ghost" id="copyText">Salin</button>
          </div>

          <div style="margin-top:12px">
            <label class="small">Opsi Kode Unik (prefix) — Hanya berfungsi untuk Netflix</label>
            <input id="prefix" placeholder="contoh: AMD, NFX" value="AMD"/>
            <div class="small" style="margin-top:6px">Jika produk bukan Netflix, kode unik tidak akan ditampilkan.</div>
          </div>
        </div>

        <div style="margin-top:12px" class="" id="">
          @Babayshop.id
        </div>
      </div>

      <div>
        <div class="card">
          <label class="small">Hasil Bukti Pembelian</label>
          <pre id="output" class="output">───〔 TRANSAKSI SUKSES 〕───
┊・Kode Unik : -
┊・Nama Produk : -
┊・Harga : -
┊・Tanggal/Jam : -
───〔 ACCOUNT INFO 〕───
- Email: -
- Password: -
─────────────────────
Syarat Ketentuan:</pre>

          <div style="margin-top:8px;display:flex;gap:8px">
            <button class="btn" id="downloadTxt">Download .txt</button>
            <button class="btn ghost" id="clear">Bersihkan</button>
          </div>
        </div>

        <div style="margin-top:12px" class="card small">
          <strong>Catatan</strong>
          <ul class="note-list">
            <li>Untuk debug: buka Console (F12) bila dropdown kosong.</li>
            <li>Tambah/ubah produk di file <code class="kbd">index.js</code>.</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- tetap pakai index.js yang sudah ada -->
  <script src="index.js"></script>

  <!-- Theme toggle script -->
  <script>
    (function(){
      const htmlEl = document.documentElement;
      const toggleBtn = document.getElementById('themeToggle');
      const themeIcon = document.getElementById('themeIcon');
      const themeLabel = document.getElementById('themeLabel');

      // apply saved theme or keep HTML default (data-theme attr)
      const saved = localStorage.getItem('bukti_theme');
      if (saved) {
        htmlEl.setAttribute('data-theme', saved);
      }

      function updateUI(theme){
        if (theme === 'light') {
          themeIcon.className = 'fa-regular fa-sun';
          themeLabel.textContent = 'Terang';
        } else {
          themeIcon.className = 'fa-regular fa-moon';
          themeLabel.textContent = 'Gelap';
        }
      }

      // init UI according to current attribute
      updateUI(htmlEl.getAttribute('data-theme') || 'dark');

      toggleBtn.addEventListener('click', () => {
        const current = htmlEl.getAttribute('data-theme') === 'light' ? 'light' : 'dark';
        const next = current === 'light' ? 'dark' : 'light';
        htmlEl.setAttribute('data-theme', next);
        localStorage.setItem('bukti_theme', next);
        updateUI(next);
      });
    })();
  </script>
</body>
</html>


